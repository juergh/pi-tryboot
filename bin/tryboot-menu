#!/bin/bash -eu
#
# Show tryboot entries
#

function usage()
{
	cat <<EOF
Usage: $(basename "${0}") [-h] [-i]

Show the tryboot boot menu (TBM).

Optional arguments:
  -h, --help    Show this help text and exit.
  -i, --initrd  Show the initrd version of the TBM.
EOF
}

initrd=

while [ ${#} -ne 0 ] ; do
	case "${1}" in
		-h|--help)
			usage
			exit
			;;
		-i|--initrd)
			initrd="initrd"
			;;
		*)
			echo "Invalid argument: ${1}" >&2
			exit 2
			;;
	esac
	shift
done

# shellcheck disable=SC1091
. /usr/lib/rpi-tryboot/functions

tb_print_boot_menu "${initrd}"
